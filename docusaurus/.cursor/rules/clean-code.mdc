---
description: Clean code principles for maintainable, readable, and well-structured code
globs:
  - "**/*.js"
alwaysApply: false
---

# Clean Code Best Practices

## Overview

| Principle | Description |
|-----------|-------------|
| Readability | Code is read more than written |
| Simplicity | Simple is better than complex |
| Consistency | Follow established patterns |
| Testability | Write code that's easy to test |

---

## Naming Conventions

### Use descriptive names

```javascript
// Bad - unclear
const d = new Date();
const u = getUser();
function calc(a, b) { return a + b; }

// Good - clear
const currentDate = new Date();
const authenticatedUser = getUser();
function calculateTotal(price, quantity) { return price * quantity; }
```

### Use consistent naming patterns

```javascript
// Boolean: is, has, should, can
const isActive = true;
const hasPermission = user.role === 'admin';

// Functions: verb + noun
function getUser(id) {}
function createOrder(data) {}
function validateEmail(email) {}

// Event handlers: handle + event
function handleClick() {}
function handleSubmit() {}
```

---

## Functions

### Keep functions small and focused

Single responsibility: one clear purpose per function. Extract validation, calculation, and side effects into separate functions.

### Use early returns

```javascript
// Good
function getDiscount(user) {
  if (!user) return 0;
  if (!user.isPremium) return 0.1;
  if (user.yearsActive > 5) return 0.3;
  return 0.2;
}
```

---

## DRY (Don't Repeat Yourself)

Extract common logic into reusable functions. Shared validation, formatting, or data shape logic should live in one place.

---

## SOLID Principles

### Single responsibility

One clear responsibility per module or class. Split persistence, side effects, and presentation.

### Dependency inversion

Depend on abstractions (e.g. callbacks, interfaces) rather than concrete implementations where it improves testability and flexibility.

---

## Error Handling

### Use specific errors

Prefer custom error types or clear messages (e.g. ValidationError, NotFoundError) over generic "Something went wrong".

### Handle at the right level

Throw specific errors at low level; catch and respond (e.g. 404, 500) at the boundary.

---

## Comments

### Code should be self-documenting

Prefer clear names and structure over comments. Use comments for **why** and non-obvious behaviour, not for **what** the code does.

---

## File Organization

Group related code. Keep components, hooks, and utils in logical folders. One main export per file where practical.

---

## Common Mistakes

| Mistake | Fix |
|---------|-----|
| Magic numbers | Use named constants |
| Deep nesting | Use early returns, extract functions |
| Long functions | Break into smaller, focused functions |
| Unclear names | Use descriptive, intention-revealing names |
| Comments explaining what | Make code self-documenting |
| Copy-paste code | Extract into reusable functions |
