---
description: Docusaurus 3.x documentation patterns and best practices
globs:
  - "docs/**/*.md"
  - "docs/**/*.mdx"
  - "docusaurus.config.js"
  - "sidebars.js"
  - "src/pages/**/*.md"
alwaysApply: false
---

# Docusaurus 3.x Patterns

## Documentation Structure

### Frontmatter
Always include frontmatter for docs when needed:

```md
---
sidebar_position: 1
title: Page Title
description: Brief description for SEO
tags: [tag1, tag2]
---
```

### Category Configuration
Each folder should have `_category_.json`:

```json
{
  "label": "Category Name",
  "position": 1,
  "collapsed": false,
  "link": {
    "type": "generated-index",
    "description": "Category description"
  }
}
```

---

## Documentation Writing Style

### Dashes and hyphens
In documentation prose, use a **single hyphen** `-` when a dash is needed (e.g. "X - Y" or "X-Y"). Do **not** use double hyphen `--` or em dash in body text or in definitions.

---

## MDX Components

### PageBreak (no import needed)
Use `<PageBreak />` to separate major sections for readability and print flow. Match existing patterns:

- Place **on its own line** between logical sections (e.g. after a paragraph or list, before the next heading).
- Use between major topic blocks, not between every paragraph.
- Example: after a numbered list and before the next `##` heading, or after a long subsection.

```mdx
</paragraph or list>

<PageBreak />

## Next Section
```

### Tooltip (no import needed)
Wrap terms that need definition in the **Tooltip** component so readers can hover for an explanation. Match existing patterns:

- Use `<Tooltip text="Term or phrase" definition="Clear, concise definition." />`.
- Use for acronyms, jargon, and domain terms on **first use** (per page or per section).
- Keep definitions short and accurate. Use a single hyphen `-` in definitions, not `--`.
- You may bold the term: **<Tooltip text="SDLC" definition="..." />** when it is the subject of the sentence.
- No import needed; component is provided by the theme.

```mdx
The <Tooltip text="MVP" definition="Minimum Viable Product - the smallest version of a product that can be released to validate a hypothesis." /> helps validate ideas early.
```

### Other React Components in MDX
```mdx
import MyComponent from '@site/src/components/MyComponent';

<MyComponent prop="value" />
```

### Admonitions
Use built-in admonitions for callouts:

```md
:::note
This is a note
:::

:::tip
This is a tip
:::

:::warning
This is a warning
:::

:::danger
This is dangerous
:::

:::info
This is info
:::
```

### Code Blocks
Always specify language and optionally title:

```md
```javascript title="example.js"
const example = 'code';
```
```

---

## Configuration Patterns

### docusaurus.config.js
- Keep configuration organized by section
- Use JSDoc type annotations for IDE support
- Extract complex configs into separate variables

### Sidebar Configuration
- Use `autogenerated` for simple structures
- Use explicit sidebar items for custom ordering
- Keep sidebar depth reasonable (max 3-4 levels)

---

## PWA Considerations

This project uses `@docusaurus/plugin-pwa`:
- Test offline functionality after major changes
- Update `manifest.json` if branding changes
- Icons must be in `/static/img/`

---

## Algolia Search

Search is configured via DocSearch:
- Ensure headings are descriptive for search
- Use consistent terminology across docs
- Avoid duplicate content that confuses search

---

## Best Practices

1. **One topic per page**: Keep docs focused
2. **Use consistent headings**: Follow h1 > h2 > h3 hierarchy
3. **Include examples**: Code examples improve comprehension
4. **Link related docs**: Use internal links liberally
5. **Keep URLs stable**: Avoid renaming files unnecessarily
6. **Test locally**: Run `yarn start` before committing

---

## Common Commands

```bash
# Start development server
yarn dev

# Build for production
yarn build

# Serve production build locally
yarn serve

# Clear cache if issues occur
yarn clear
```

---
