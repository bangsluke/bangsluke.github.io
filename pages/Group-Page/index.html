<!-- index.html -->
<!-- The initial login page to enter the site. -->

<!-- https://github.com/matteobrusa/Password-protection-for-static-pages/blob/master/index.html -->

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

</html>

<html>

<head>

	<!-- Website Title - shows up in tab at top of page. -->
	<title>Login</title>

	<!-- Initial Meta Data -->
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- Link to CSS styling - Starting with "/" moves back to root directory - https://stackoverflow.com/questions/27218879/link-a-css-on-another-folder -->
	<link href="/pages/Group-Page/assets/css/GroupPageMain.css" rel="stylesheet"> <!-- Main CSS styling -->
	<link href="/pages/Group-Page/assets/css/index.css" rel="stylesheet"> <!-- Index Page styling -->

	<!-- Favicon Image - https://stackoverflow.com/questions/18301745/how-to-set-up-a-favicon -->
	<link rel="shortcut icon" type="image/x-icon" href="/pages/Group-Page/assets/images/Page Icon Circle.png" />

	<!-- Link into font-awesome logos and icons. -->
	<script src="https://kit.fontawesome.com/e0e1bfc304.js" crossorigin="anonymous"></script>

</head>

<body>

	<div id="loginbox" class="lightbox">

		<div class="horizontal">

			<div class="vertical">

				<div class="box">

					<!-- Add a drop down form - https://www.bbc.co.uk/bitesize/guides/zrpqy9q/revision/5 -->
					<div class="userdropdown-container">
						<form class="userdropdown">
							<select name="User" id="userdropdown">
								<option value="Alex">Althom</option>
								<option value="Ali">Pea</option>
								<option value="Andy">Higgins</option>
								<option value="Dom">DP</option>
								<option value="Jonny">Jon Boy</option>
								<option value="Kieran">Karen</option>
								<option value="Luke">Bongo</option>
								<option value="Oli">OG</option>
							</select>
						</form>
					</div>

					<input style="margin: 16px; text-align: center;" id="password" type="password"
						placeholder="password" /> <br />

					<button id="loginbutton" type="button">Enter</button>
					<p id="wrongPassword" style="display: none">wrong password</p>
				</div>

			</div>

		</div>
	</div>

	<!-- Link to JavaScript scripts - Starting with "/" moves back to root directory. -->
	<!-- Always link to your JavaScript files at the bottom of your HTML file. HTML reads from top to bottom so calling the JavaScript file too early may mean the scripts don't run on HTML elements that sit below them in the HTML file. -->
	<script type="text/javascript" src="/pages/Group-Page/assets/js/jindex.js"></script> <!-- Get index JS -->
	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script> <!-- Get jQuery JS -->
	<script type="text/javascript" src="https://rawcdn.githack.com/chrisveness/crypto/7067ee62f18c76dd4a9d372a00e647205460b62b/sha1.js"></script> <!-- Get sha1 JS -->
	<script type="text/javascript">
		"use strict";
		function loadPage(pwd) {
			var hash = pwd;
			hash = Sha1.hash(pwd);
			var url = hash + "/GroupHomePage.html";
			$.ajax({
				url: url,
				dataType: "html",
				success: function (data) {
					window.location = url;
				},
				error: function (xhr, ajaxOptions, thrownError) {

					parent.location.hash = hash;
					//$("#wrongPassword").show();
					$("#password").attr("placeholder", "wrong password");
					$("#password").val("");
				}
			});
		}
		$("#loginbutton").on("click", function () {
			loadPage($("#password").val());
		});
		$("#password").keypress(function (e) {
			if (e.which == 13) {
				loadPage($("#password").val());
			}
		});
		$("#password").focus();
	</script>

</body>

</html>